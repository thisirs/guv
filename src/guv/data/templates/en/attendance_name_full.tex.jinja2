% -*- mode: latex; -*-
\documentclass{article}

% Font selection (XeLaTeX or LuaLaTeX)
\usepackage{fontspec}
\usepackage{unicode-math}

% Libertinus fonts
\setmainfont{Libertinus Serif}
\setsansfont{Libertinus Sans}
\setmonofont{Libertinus Mono}
\setmathfont{Libertinus Math}

\usepackage[english]{babel}
\usepackage[a4paper,landscape,margin=10pt]{geometry}
\usepackage{calc}
\usepackage{longtable}

\begin{document}

\begin{minipage}{4cm}
  \textbf{(((title)))}
\end{minipage}
\hfill
\begin{minipage}{10cm}
\noindent\hfill\textbf{Semester:} \makebox[3cm][l]{\textbf{(((planning)))}}\par
\noindent\hfill\textbf{UV:} \makebox[3cm][l]{\textbf{(((uv)))}}\par
((* if group *))
\noindent\hfill\textbf{Group:} \makebox[3cm][l]{\textbf{(((group | escape_tex)))}}\par
((* endif *))
\end{minipage}

\newlength\q
\setlength{\q}{(\textwidth -(((nslot+1)))\tabcolsep * \real{2} - 3cm - (((nslot+1)))\arrayrulewidth)/(((nslot)))}

\begin{center}
  \begin{longtable}{|p{3cm}|((* for i in range(nslot) *))p{\q}|((* endfor *))}
    \hline
    Name ((* for s in slots_name *)) & ((( s | escape_tex )))((* endfor *)) \\ \hline
    ((* for student in students *))
    \begin{minipage}[c][.7cm]{3cm}\scriptsize
      ((( student['name'] )))
    \end{minipage}
    ((* for i in range(nslot) *)) & ((* endfor *)) \\ \hline
    ((* endfor *))
  \end{longtable}
\end{center}

\end{document}

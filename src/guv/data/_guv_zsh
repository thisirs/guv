#compdef guv

# AUTOMATCALLY GENERATED by `shtab`


_shtab_guv_commands() {
  local _commands=(
    "cal_inst:Calendrier hebdomadaire par intervenant."
    "cal_uv:Calendrier PDF de la semaine par UV."
    "createsemester:Crée un dossier de semestre"
    "createuv:Crée des dossiers d\'UV"
    "csv_create_groups:Création aléatoire de groupes d\'étudiants prêt à charger sous Moodle."
    "csv_exam_groups:Fichier csv des demi-groupe de TP pour le passage des examens de TP"
    "csv_for_upload:Fichier csv de notes prêtes à être chargées sur l\'ENT."
    "csv_groups:Fichiers csv des groupes de Cours\/TD\/TP\/singleton pour Moodle."
    "csv_groups_groupings:Fichier csv de groupes et groupements à charger sur Moodle pour les créer."
    "csv_moodle_groups:Fichier csv de sous-groupes (binômes ou trinômes) aléatoires"
    "doit:Permet d\'avoir accès aux commandes doit sous-jacentes"
    "fetch_group_id:Crée un fichier de correspondance entre le nom et l\'id des groupes Moodle."
    "html_inst:Génère la description des intervenants pour Moodle."
    "html_table:Table HTML des Cours\/TD\/TP à charger sur Moodle"
    "ical_inst:Fichier iCal de tous les créneaux par intervenant."
    "ical_uv:Fichiers iCal de tous les créneaux sur le semestre."
    "json_group:Fichier json des restrictions d\'accès aux ressources sur Moodle par adresse courriel"
    "json_restriction:Fichier json de restrictions d\'accès aux ressources Moodle basées sur le début\/fin des séances"
    "pdf_attendance:Fichier pdf de feuilles de présence."
    "pdf_attendance_full:Fichier zip de feuilles de présence nominatives par groupe et par semestre."
    "pdf_trombinoscope:Fichier PDF des trombinoscopes par groupes et\/ou sous-groupes."
    "utp:"
    "xls_assignment_grade:Création d\'un fichier Excel pour remplissage des notes par les intervenants"
    "xls_grade_book_group:Fichier Excel de notes par groupe."
    "xls_grade_book_jury:Fichier Excel pour la gestion d\'un jury d\'UV"
    "xls_grade_book_no_group:Fichier Excel de notes individuelles."
    "xls_merge_final_grade:Fichier Excel des notes finales attribuées"
    "xls_utp:Crée un document Excel pour calcul des heures et remplacements."
    "yaml_qcm:Génère un fichier yaml prérempli pour noter un QCM"
    "zoom_breakout_rooms:Crée un fichier csv prêt à charger sur Zoom pour faire des groupes"
  )
  _describe 'guv commands' _commands
}

_shtab_guv_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
)

_shtab_guv_cal_inst_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  {-p,--plannings}"[Spécifie les UV\/UE concernées via les plannings. Par défaut, toutes les UV\/UE des plannings \`\`SELECTED_PLANNINGS\`\` sont concernées.]:plannings:"
  {-i,--insts}"[Spécifie la liste des intervenants pour qui créer le calendrier. Par défaut, la liste se limite à \`\`DEFAULT_INSTRUCTOR\`\`.]:insts:"
  "--save-tex[Permet de laisser les fichiers .tex générés pour modification éventuelle.]"
)

_shtab_guv_cal_uv_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  "--save-tex[Permet de laisser les fichiers .tex générés pour modification éventuelle.]"
)

_shtab_guv_createsemester_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  "--uv[]:uv:"
  ":semester:"
)

_shtab_guv_createuv_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  "(*):uv:"
)

_shtab_guv_csv_create_groups_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  {-G,--grouping}"[Pré-groupes dans lesquels faire des sous-groupes]:grouping:"
  {-n,--num-groups}"[Nombre de groupes à créer (par sous-groupes si spécifié)]:num_groups:"
  {-s,--group-size}"[Taille des groupes \: binomes, trinomes ou plus]:group_size:"
  {-p,--proportions}"[Liste de proportions pour créer les groupes]:proportions:"
  {-t,--template}"[Modèle pour donner des noms aux groupes avec \`\{title\}\`, \`\{grouping_name\}\` ou \`\{group_name\}\`]:template:"
  {-l,--names}"[Liste de mots clés pour construire les noms des groupes]:names:"
  {-o,--ordered}"[Ordonner la liste des étudiants par ordre alphabétique ou par colonnes]:ordered:"
  {-g,--global}"[Ne pas remettre à zéro la suite des noms de groupes entre chaque groupement]"
  {-r,--random}"[Permuter aléatoirement les noms de groupes]"
  "--other-groups[Liste de colonnes de groupes déjà formés qui ne doivent plus être reformés. Valable uniquement pour les binomes et trinomes.]:other_groups:"
  ":Nom associé à l\'ensemble des groupes créés. Repris dans le nom du fichier créé et dans le nom des groupes créés suivant la \*template\* utilisée.:"
)

_shtab_guv_csv_exam_groups_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  {-t,--tiers-temps}"[Nom de la colonne des tiers-temps]:tiers_temps:"
  {-p,--tp}"[Nom de la colonne pour réaliser un groupement]:tp:"
)

_shtab_guv_csv_for_upload_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  {-g,--grade-colname}"[Nom de la colonne contenant la note à exporter.]:grade_colname:"
  "--ects[Précise si la note à exporter est une note ECTS. D\'après l\'ENT, il ne faut alors pas de colonne de commentaires et la note n\'est pas arrondie (l\'ENT n\'aime pas quand il y a trop de décimales).]"
  {-c,--comment-colname}"[Nom de la colonne contenant un commentaire à ajouter dans le fichier exporté.]:comment_colname:"
  {-f,--format}"[Modèle permettant de formatter plus précisément le commentaire. Le mot-clé \`\`msg\`\` représente la donnée présente dans la colonne \`\`--comment-colname\`\`. Par défaut, on a \`\`\{msg\}\`\`.]:format:"
)

_shtab_guv_csv_groups_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  {-g,--groups}"[Liste des groupements à considérer via un nom de colonne. Par défaut, les groupements \`\`Cours\`\`, \`\`TD\`\`, \`\`TP\`\` et \`\`singleton\`\` sont utilisés.]:groups:"
)

_shtab_guv_csv_groups_groupings_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  "-g[Nombre de groupes dans chaque groupement]:ngroups:"
  "-f[Format du nom de groupe (defaut\: \%(default)s)]:ngroupsf:"
  "-G[Nombre de groupements différents]:ngroupings:"
  "-F[Format du nom de groupement (defaut\: \%(default)s)]:ngroupingsf:"
)

_shtab_guv_csv_moodle_groups_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  {-c,--course}"[Nom de colonne pour réaliser un groupement]:course:"
  {-p,--project}"[Nom du groupement que sera réalisé]:project:"
  {-g,--group-names}"[Fichier de noms de groupes]:group_names:"
  {-o,--other-group}"[Nom de colonne d\'un autre groupement]:other_group:"
)

_shtab_guv_doit_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  ":args:"
)

_shtab_guv_fetch_group_id_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  "(*):Liste des identifiants des UV sur Moodle (id\=\?\?\?\? dans l\'url):"
)

_shtab_guv_html_inst_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
)

_shtab_guv_html_table_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  {-c,--courses}"[Liste des types de créneaux pour lequel faire un tableau. Par défaut des tableaux sont créés pour les Cours, TD et TP.]:courses:"
  {-g,--grouped}"[Grouper les cours dans le même tableau ou faire des fichiers distincts.]"
  {-a,--num-AB}"[Permet de préciser si la numérotation des séances dans le tableau doit être en semaine A\/B (A1, B1, A2, B2,...) ou normal (1, 2, 3, 4,...). Valable uniquement pour les TP. Pour les autres types la numérotation classique est toujours utilisée.]"
  {-n,--names}"[Liste ou fichier contenant les noms des colonnes du tableau. Par défaut, les noms de colonnes sont \`\`D1\`\`, \`\`D2\`\`,... ou \`\`T1\`\`, \`\`T2\`\`,...]:names:"
  "--header-row-format[Format pour l\'en-tête de chaque ligne]:header_row_format:"
)

_shtab_guv_ical_inst_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  {-i,--insts}"[Liste des intervenants à inclure dans les fichiers iCal. Par défaut, \`\`DEFAULT_INSTRUCTOR\`\` est utilisé. Mettre \`\`all\`\` pour tous les intervenants.]:insts:"
)

_shtab_guv_ical_uv_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
)

_shtab_guv_json_group_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  {-g,--group}"[Nom de la colonne réalisant un groupement]:group:"
)

_shtab_guv_json_restriction_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  {-c,--course}"[Type de séances considérées parmi \`\`Cours\`\`, \`\`TD\`\` ou \`\`TP\`\`.]:course:(Cours TD TP)"
  {-a,--num-AB}"[Permet de prendre en compte les semaines A\/B. Ainsi, la fin d\'une séance est à la fin de la semaine B.]"
)

_shtab_guv_pdf_attendance_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  {-t,--title}"[Spécifie un titre qui sera utilisé dans les feuilles de présence.]:title:"
  {-g,--group}"[Permet de créer des groupes pour faire autant de feuilles de présence. Il faut spécifier une colonne du fichier central \`\`effectif.xlsx\`\`.]:group:"
  {-b,--blank}"[Ne pas faire apparaitre le nom des étudiants (utile seulement avec --group).]"
  {-c,--count}"[Utilise une liste d\'effectifs au lieu de \`\`--group\`\`. Le nom des groupes peut être spécifié par \`\`--names\`\`. Sinon, les noms de groupe sont de la forme \`\`Groupe 1\`\`, \`\`Groupe 2\`\`,...]:count:"
  {-n,--names}"[Spécifie le nom des groupes correspondants à \`\`--count\`\`. La liste doit être de même taille que \`\`--count\`\`.]:names:"
  {-e,--extra}"[Permet de rajouter des lignes supplémentaires vides en plus de celles déjà présentes induites par \`\`--group\`\` ou fixées par \`\`--count\`\`.]:extra:"
  "--tiers-temps[Permet de dédier une feuille de présence spécifique pour les étudiants marqués comme tiers-temps dans le fichier central \`\`effectifs.xlsx\`\`.]"
  "--save-tex[Permet de laisser les fichiers .tex générés pour modification éventuelle.]"
)

_shtab_guv_pdf_attendance_full_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  "--title[Spécifie un titre qui sera utilisé dans les feuilles de présence.]:title:"
  {-g,--group}"[Permet de spécifier une colonne de groupes pour faire des feuilles de présence par groupes.]:group:"
  {-n,--slots}"[Permet de spécifier le nombre de séances pour le semestre c\'est à dire le nombre de colonne dans la feuille de présence.]:slots:"
  {-t,--template}"[Modèle permettant de fixer le nom des séances successives dans la feuille de présence. Par défaut on a \`\`S\{number\}\`\`. Le seul mot-clé supporté est \`\`number\`\`.]:template:"
  "--save-tex[Permet de laisser les fichiers .tex générés pour modification éventuelle.]"
)

_shtab_guv_pdf_trombinoscope_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  {-g,--group}"[Nom de colonne utilisée pour réaliser le groupement. Un fichier pdf est généré pour chaque groupe. Lorsque le nom de groupe est \`\`all\`\`, il y a un seul groupe (donc un seul fichier pdf) comportant la totalité des étudiants.]:groupby:"
  {-s,--subgroup}"[Nom de colonne utilisée pour faire des sous-groupes (binômes, trinômes) parmi le groupement déjà existant.]:subgroupby:"
  "--save-tex[Permet de laisser les fichiers .tex générés pour modification éventuelle.]"
)

_shtab_guv_utp_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
)

_shtab_guv_xls_assignment_grade_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  {-e,--exam}"[Nom de l\'examen]:exam:"
)

_shtab_guv_xls_grade_book_group_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  "--name[Nom de la feuille de notes]:name:"
  "--marking-scheme[Fichier contenant le barème détaillé]:config_file:_files"
  {-o,--order-by}"[Colonne utilisée pour ordonner les noms dans chaque feuille]:order_by:"
  {-w,--worksheets}"[Colonne utilisée pour grouper en plusieurs feuilles]:group_by:"
  {-g,--group-by}"[Colonne de groupes utilisée pour noter des groupes d\'étudiants]:subgroup_by:"
)

_shtab_guv_xls_grade_book_jury_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  "--name[Nom de la feuille de notes]:name:"
  "--config[Fichier de configuration spécifiant les notes à utiliser]:config_file:_files"
)

_shtab_guv_xls_grade_book_no_group_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  "--name[Nom de la feuille de notes]:name:"
  "--marking-scheme[Fichier contenant le barème détaillé]:config_file:_files"
  {-o,--order-by}"[Colonne utilisée pour ordonner les noms dans chaque feuille]:order_by:"
  {-w,--worksheets}"[Colonne utilisée pour grouper en plusieurs feuilles]:group_by:"
)

_shtab_guv_xls_merge_final_grade_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  {-e,--exam}"[Nom de l\'examen]:exam:"
)

_shtab_guv_xls_utp_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
)

_shtab_guv_yaml_qcm_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
)

_shtab_guv_zoom_breakout_rooms_options=(
  "(- :)"{-h,--help}"[show this help message and exit]"
  ":Le nom de la colonne des groupes:"
)


_shtab_guv() {
  local context state line curcontext="$curcontext"

  _arguments -C $_shtab_guv_options \
    ': :_shtab_guv_commands' \
    '*::: :->guv'

  case $state in
    guv)
      words=($line[1] "${words[@]}")
      (( CURRENT += 1 ))
      curcontext="${curcontext%:*:*}:_shtab_guv-$line[1]:"
      case $line[1] in
        cal_inst) _arguments -C $_shtab_guv_cal_inst_options ;;
        cal_uv) _arguments -C $_shtab_guv_cal_uv_options ;;
        createsemester) _arguments -C $_shtab_guv_createsemester_options ;;
        createuv) _arguments -C $_shtab_guv_createuv_options ;;
        csv_create_groups) _arguments -C $_shtab_guv_csv_create_groups_options ;;
        csv_exam_groups) _arguments -C $_shtab_guv_csv_exam_groups_options ;;
        csv_for_upload) _arguments -C $_shtab_guv_csv_for_upload_options ;;
        csv_groups) _arguments -C $_shtab_guv_csv_groups_options ;;
        csv_groups_groupings) _arguments -C $_shtab_guv_csv_groups_groupings_options ;;
        csv_moodle_groups) _arguments -C $_shtab_guv_csv_moodle_groups_options ;;
        doit) _arguments -C $_shtab_guv_doit_options ;;
        fetch_group_id) _arguments -C $_shtab_guv_fetch_group_id_options ;;
        html_inst) _arguments -C $_shtab_guv_html_inst_options ;;
        html_table) _arguments -C $_shtab_guv_html_table_options ;;
        ical_inst) _arguments -C $_shtab_guv_ical_inst_options ;;
        ical_uv) _arguments -C $_shtab_guv_ical_uv_options ;;
        json_group) _arguments -C $_shtab_guv_json_group_options ;;
        json_restriction) _arguments -C $_shtab_guv_json_restriction_options ;;
        pdf_attendance) _arguments -C $_shtab_guv_pdf_attendance_options ;;
        pdf_attendance_full) _arguments -C $_shtab_guv_pdf_attendance_full_options ;;
        pdf_trombinoscope) _arguments -C $_shtab_guv_pdf_trombinoscope_options ;;
        utp) _arguments -C $_shtab_guv_utp_options ;;
        xls_assignment_grade) _arguments -C $_shtab_guv_xls_assignment_grade_options ;;
        xls_grade_book_group) _arguments -C $_shtab_guv_xls_grade_book_group_options ;;
        xls_grade_book_jury) _arguments -C $_shtab_guv_xls_grade_book_jury_options ;;
        xls_grade_book_no_group) _arguments -C $_shtab_guv_xls_grade_book_no_group_options ;;
        xls_merge_final_grade) _arguments -C $_shtab_guv_xls_merge_final_grade_options ;;
        xls_utp) _arguments -C $_shtab_guv_xls_utp_options ;;
        yaml_qcm) _arguments -C $_shtab_guv_yaml_qcm_options ;;
        zoom_breakout_rooms) _arguments -C $_shtab_guv_zoom_breakout_rooms_options ;;
      esac
  esac
}



typeset -A opt_args
_shtab_guv "$@"
